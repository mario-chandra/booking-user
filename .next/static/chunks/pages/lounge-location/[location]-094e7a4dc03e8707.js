(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[629],{99994:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/lounge-location/[location]",function(){return n(22714)}])},51215:function(e,t,n){"use strict";n.r(t);var r=n(85893),i=n(6822),o=n(58057);t.default=function(e){var t=e.title,n=e.isChecked,c=e.onClick,a=e.isDisabled;return(0,r.jsxs)("div",{onClick:c,className:(0,i.Z)(a&&"disabled-checkbox",n?"checked-input":"unchecked-input","flex relative items-center p-3 cursor-pointer"),children:[(0,r.jsx)("input",{disabled:a,checked:n,className:"absolute opacity-0 w-6 h-6 border rounded-sm focus:outline-none transition duration-200 align-top bg-no-repeat bg-center bg-contain float-left",type:"checkbox"}),(0,r.jsx)("div",{className:(0,i.Z)(a&&"disabled-checkbox",n?"checked-input":"unchecked-input","checkbox rounded-1 border-2 rounded-md  w-6 h-6 flex flex-shrink-0 justify-center items-center mr-2"),children:(0,r.jsx)(o.Z,{className:"icon hidden fill-current w-4 h-4 text-info-600 pointer-events-none "})}),(0,r.jsx)("p",{className:(0,i.Z)(a?"text-gray-300":"text-gray-700","form-check-label text-md-3 font-medium text-center"),children:t})]})}},22714:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return P}});var r=n(85893),i=n(86803),o=n(61881),c=function(e){var t=e.title,n=e.form,c=e.actionName,a=e.onActionSubmit,l=e.submitDisabled;return(0,r.jsxs)(o.Z,{title:t,children:[(0,r.jsx)("div",{className:"my-11",children:n}),(0,r.jsx)(i.z,{title:c,isDisabled:l,onClick:a})]})},a=n(67294),l=n(27484),u=n.n(l),s=n(76141);n(6063),n(3707);function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],c=!0,a=!1;try{for(n=n.call(e);!(c=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);c=!0);}catch(l){a=!0,i=l}finally{try{c||null==n.return||n.return()}finally{if(a)throw i}}return o}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var h=function(e){var t=e.onChange,n=(0,a.useState)(u()().add(1,"day")),i=n[0],o=n[1],c=f(a.useState(),2),l=c[0],d=c[1];(0,a.useEffect)((function(){t(u()(i).format("YYYY-MM-DD "))}),[i]),console.log("abc",u()().format("HH"));return(0,r.jsx)(s.DayPickerSingleDateController,{date:i,onDateChange:function(e){return o(e)},focused:l,onFocusChange:function(e){var t=e.focused;return d(t)},id:"date"})},m=function(e){var t=e.onChange;return(0,r.jsx)(h,{onChange:t})},b=n(64424),g=n(80397),p=function(){var e=(0,a.useState)([]),t=e[0],n=e[1];return{selected:t,handleSelect:function(e,r){var i=t.indexOf(r),o=[];-1===i?o=o.concat(t,r):0===i?o=o.concat(t.slice(1)):i===t.length-1?o=o.concat(t.slice(0,-1)):i>0&&(o=o.concat(t.slice(0,i),t.slice(i+1))),n(o)},handleSelectAllClick:function(e,t,r){if(e.target.checked){var i=t.map((function(e){return e[r]}));n(i)}else n([])}}},v=n(51215).default,x=function(e){var t=e.values,n=e.onChange,i=p(),o=i.selected,c=i.handleSelect,l=(0,b.Z)(["booking","time","list"],"/location/time?id_location=".concat(t.id_location,"&date=").concat(t.date)),u=l.data,s=l.isFetching;return(0,a.useEffect)((function(){0!==o.length?n(o):n(null)}),[o]),s?(0,r.jsx)(g.R,{}):(0,r.jsx)("div",{class:"w-full grid grid-rows-6 grid-cols-time-chip grid-flow-col gap-5 ",children:u.map((function(e){var t=-1!==o.indexOf(e.id_time);return(0,r.jsx)(v,{isChecked:t,isDisabled:Boolean(e.is_disabled),title:e.time,onClick:function(t){return c(t,e.id_time)}})}))})},y=n(11163),j=n(41664),k=function(e){return e.split(/[?#]/)[0].replace(/-/g," ").trim().toLowerCase().replace(/\w\S*/g,(function(e){return e.replace(/^\w/,(function(e){return e.toUpperCase()}))}))},_=function(){var e=(0,y.useRouter)(),t=(0,a.useState)(null),n=t[0],i=t[1];if((0,a.useEffect)((function(){if(e){var t=e.asPath.split("/");t.shift();var n=t.map((function(e,n){return{breadcrumb:e,href:"/"+t.slice(0,n+1).join("/")}}));i(n)}}),[e]),!n)return null;var o=function(e){return e===n.length-1};return(0,r.jsx)("nav",{"aria-label":"breadcrumbs",children:(0,r.jsx)("ol",{className:"breadcrumb font-medium",children:n.map((function(e,t){return(0,r.jsxs)(r.Fragment,{children:[t>0?(0,r.jsx)("div",{children:"/"}):null,o(t)?(0,r.jsx)("p",{className:"text-gray-700",children:k(e.breadcrumb)}):(0,r.jsx)("li",{children:(0,r.jsx)(j.default,{href:e.href,children:(0,r.jsx)("a",{className:"text-gray-400",children:k(e.breadcrumb)})})},e.href)]})}))})})},w=n(47112),N=n(25675),S=function(e){var t=e.children,n=(0,y.useRouter)();return console.log("router 12",n.query),(0,r.jsxs)("div",{className:"h-screen relative",children:[(0,r.jsx)(w.Z,{}),(0,r.jsxs)("div",{className:"px-8 flex pt-nav items-center justify-center h-full bg-success-BG",children:[(0,r.jsxs)("div",{className:"space-y-8 hidden lg:inline-block w-6/12",children:[(0,r.jsx)(_,{}),(0,r.jsx)("div",{className:"relative h-[calc(100vh_-_56px_-_56px_-_32px_-_32px)]",children:(0,r.jsx)(N.default,{className:"relative rounded-r-4 overflow-hidden",src:n.query.image,alt:"Picture of the author",objectFit:"cover",layout:"fill"})})]}),(0,r.jsx)("div",{className:"flex w-6/12 items-center",children:t})]})]})},C=n(31955),O=n(3777),D=n(33899);function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Z=[{id:"date",title:"Book Date",actionName:"Choose Date",form:m},{id:"time",title:"Book Time",actionName:"Choose Time",form:x}],A=function(){var e=(0,y.useRouter)(),t=(0,D.Z)().notify,n=(0,a.useState)(null),i=(n[0],n[1],(0,a.useState)(0)),o=i[0],l=i[1],u=(0,a.useState)((function(){return{id_location:e.query.id_location}})),s=u[0],d=u[1],f=(0,O.Z)("/book"),h=Z[o];console.log("values",s);return(0,r.jsx)(c,{title:h.title,actionName:h.actionName,form:(0,r.jsx)(h.form,{values:s,onChange:function(e){return d((function(t){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){E(e,t,n[t])}))}return e}({},t,E({},h.id,e))}))}}),onActionSubmit:function(){if(o+1<Z.length)return console.log("opps"),l((function(e){return e+1}));s.time.forEach((function(n){var r={id_location:e.query.id_location,date:s.date,id_time:n,nim:C.Z.get("nim")};f.mutate(r,{onSuccess:function(n){if(console.log("res88",n),console.log("res.err88",n.err),"error"===n.type)return t("error",n.message);t("success","Successfully booked the seat"),e.replace("/booking/processing")},onError:function(e){return t("error","Sorry, Something went wrong!")}})}))},submitDisabled:!s[h.id]})};A.layout=S;var P=A}},function(e){e.O(0,[885,52,774,888,179],(function(){return t=99994,e(e.s=t);var t}));var t=e.O();_N_E=t}]);